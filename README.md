# Metrics-Collector
Собирает кастомные метрики и пишет в файл.

После записи в файл метрики сбрасываются.

MC.hpp содержит реализацию менеджера метрик (MetricsCollector). Создание новых метрик для последующих регистраций событий происходит через MetricsCollector.

Aggregators.hpp содержит реализацию базовых "агрегаторов", которые передаются при регистрации очередной метрики. Присутствует проверка соответствия реализованного агрегатора для упрощения добавления своих метрик.

main.cpp содержит примеры использования MetricsCollector (создание метрик, регистрация событий, запись в файл каждую секунду), пример добавления своей метрики (агрегатора).

# compile test:
clang++ -std=c++2b -O3 main.cpp

или

g++ -std=c++2b -O3 main.cpp

# run test:
./a.out <имя_файла> <кол-во секунд записи в файл>

или

./a.out
